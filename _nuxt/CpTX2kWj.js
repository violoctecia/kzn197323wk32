import{d as x,P as O,Q as A,R as K,h as c,a as N,r as j,S as _,T as S,u as T,E as B,U as I,V as y,W as R,X as L,Y as V,Z as C,$ as E,O as w,J as b,a0 as F,a1 as q,a2 as z,_ as J,v as Q,x as U,z as W,t as X}from"./CSg3Ow4A.js";const Y=x({props:{vnode:{type:Object,required:!0},route:{type:Object,required:!0},vnodeRef:Object,renderKey:String,trackRootNodes:Boolean},setup(e){const o=e.renderKey,n=e.route,i={};for(const a in e.route)Object.defineProperty(i,a,{get:()=>o===e.renderKey?e.route[a]:n[a],enumerable:!0});return O(K,A(i)),()=>c(e.vnode,{ref:e.vnodeRef})}}),Z=x({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(e,{attrs:o,slots:n,expose:i}){const a=N(),r=j(),d=_(K,null);let l;i({pageRef:r});const s=_(S,null);let u;const g=a.deferHydration();if(a.isHydrating){const t=a.hooks.hookOnce("app:error",g);T().beforeEach(t)}return e.pageKey&&B(()=>e.pageKey,(t,v)=>{t!==v&&a.callHook("page:loading:start")}),()=>c(I,{name:e.name,route:e.route,...o},{default:t=>{const v=D(d,t.route,t.Component),h=d&&d.matched.length===t.route.matched.length;if(!t.Component){if(u&&!h)return u;g();return}if(u&&s&&!s.isCurrent(t.route))return u;if(v&&d&&(!s||s!=null&&s.isCurrent(d)))return h?u:null;const f=y(t,e.pageKey);!a.isHydrating&&!G(d,t.route,t.Component)&&l===f&&a.callHook("page:loading:end"),l=f;const m=!!(e.transition??t.route.meta.pageTransition??R),H=m&&$([e.transition,t.route.meta.pageTransition,R,{onAfterLeave:()=>{a.callHook("page:transition:finish",t.Component)}}].filter(Boolean)),p=e.keepalive??t.route.meta.keepalive??L;return u=V(F,m&&H,C(p,c(E,{suspensible:!0,onPending:()=>a.callHook("page:start",t.Component),onResolve:()=>{w(()=>a.callHook("page:finish",t.Component).then(()=>a.callHook("page:loading:end")).finally(g))}},{default:()=>{const k=c(Y,{key:f||void 0,vnode:n.default?c(b,void 0,n.default(t)):t.Component,route:t.route,renderKey:f||void 0,trackRootNodes:m,vnodeRef:r});return p&&(k.type.name=t.Component.type.name||t.Component.type.__name||"RouteProvider"),k}}))).default(),u}})}});function $(e){const o=e.map(n=>({...n,onAfterLeave:n.onAfterLeave?q(n.onAfterLeave):void 0}));return z(...o)}function D(e,o,n){if(!e)return!1;const i=o.matched.findIndex(a=>{var r;return((r=a.components)==null?void 0:r.default)===(n==null?void 0:n.type)});return!i||i===-1?!1:o.matched.slice(0,i).some((a,r)=>{var d,l,s;return((d=a.components)==null?void 0:d.default)!==((s=(l=e.matched[r])==null?void 0:l.components)==null?void 0:s.default)})||n&&y({route:o,Component:n})!==y({route:e,Component:n})}function G(e,o,n){return e?o.matched.findIndex(a=>{var r;return((r=a.components)==null?void 0:r.default)===(n==null?void 0:n.type)})<o.matched.length-1:!1}const M={};function P(e,o){const n=Z;return X(),Q(b,null,[o[0]||(o[0]=U("header",null,null,-1)),W(n)],64)}const te=J(M,[["render",P],["__scopeId","data-v-27a00d28"]]);export{te as default};
